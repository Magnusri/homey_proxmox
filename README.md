# ü§ñ THIS ENTIRE CODEBASE WAS WRITTEN ENTIRELY BY AI ü§ñ

> **‚ö†Ô∏è IMPORTANT DISCLAIMER ‚ö†Ô∏è**  
> **This entire codebase, including all code and documentation, was generated by Artificial Intelligence.**  
> **Please verify all information independently and use at your own discretion.**

---

# Homey Proxmox App

A comprehensive Homey application for monitoring and controlling Proxmox Virtual Environment (VE) clusters. This app allows you to integrate your Proxmox VMs and LXC containers with your Homey smart home ecosystem.

## üöÄ Features

### üìä Real-time Monitoring
- **CPU Usage**: Monitor CPU utilization percentage
- **Memory Usage**: Track RAM consumption
- **Disk Usage**: Monitor storage utilization
- **Network Traffic**: Track network in/out traffic (MB/s)
- **Disk I/O**: Monitor disk read/write operations (MB/s)
- **Uptime**: Track how long VMs/containers have been running
- **Connectivity Status**: Monitor device reachability

### üéØ Flow Triggers
The app provides several trigger cards for automation:
- CPU usage above threshold
- Memory usage above threshold
- Disk space low
- High disk I/O detected
- High network traffic detected
- Device becomes unreachable
- VM/LXC started
- VM/LXC stopped

### ‚úÖ Flow Conditions
Check various states in your flows:
- CPU usage above/below threshold
- Memory usage above/below threshold
- Network traffic above/below threshold
- VM/LXC is/isn't running
- Uptime greater than specified hours

### üé¨ Flow Actions
Control your Proxmox environment:
- Start VM/LXC
- Stop VM/LXC
- Restart VM/LXC

### üìà Insights
Track historical data for:
- CPU usage over time
- Memory usage trends
- Disk usage patterns
- Network traffic patterns
- Disk I/O statistics
- Uptime tracking

## üìã Requirements

- Homey (Pro/Cloud) with firmware >=12.4.0
- Proxmox VE cluster with API access
- Valid Proxmox user credentials with appropriate permissions
- Network connectivity between Homey and Proxmox server

## üîß Installation

1. Install the app from the Homey App Store
2. Open the Homey app on your mobile device
3. Navigate to **Devices** ‚Üí **Add Device**
4. Select **Proxmox** from the list
5. Follow the pairing wizard:
   - Enter your Proxmox server details
   - Provide authentication credentials
   - Select the VMs/LXCs you want to monitor

## ‚öôÔ∏è Configuration

### Pairing Setup
During the pairing process, you'll need to provide:
- **Proxmox Server Address**: The hostname or IP address of your Proxmox server
- **Port**: API port (default: 8006)
- **Username**: Your Proxmox username (e.g., `root@pam`)
- **Password**: Your Proxmox password or API token
- **Realm**: Authentication realm (e.g., `pam`, `pve`)

### Device Settings
Each Proxmox device can be configured with:

#### Monitoring Settings
- **Polling Interval**: How often to update device status (10-300 seconds, default: 30)
- **Enable Insights**: Track historical data for CPU, memory, and disk usage

#### Alarm Thresholds
- **CPU Threshold**: Trigger alarm when CPU exceeds percentage (50-100%, default: 90%)
- **Memory Threshold**: Trigger alarm when memory exceeds percentage (50-100%, default: 90%)
- **Network Threshold**: Trigger alarm when network traffic exceeds rate (1-1000 MB/s, default: 10 MB/s)
- **Disk I/O Threshold**: Trigger alarm when disk I/O exceeds rate (1-1000 MB/s, default: 50 MB/s)

## üí° Usage Examples

### Example 1: Alert on High CPU Usage
**Trigger**: CPU usage above 90%  
**Action**: Send a notification to your phone

### Example 2: Auto-restart Overloaded VM
**Trigger**: CPU usage above 95%  
**Condition**: Uptime greater than 1 hour  
**Action**: Restart VM/LXC

### Example 3: Monitor Network Activity
**Trigger**: Network traffic above 100 MB/s  
**Action**: Log event and send notification

### Example 4: Scheduled VM Management
**Trigger**: Time-based (e.g., 11 PM)  
**Condition**: VM is running  
**Action**: Stop VM/LXC

### Example 5: Start Services on Demand
**Trigger**: When specific device turns on  
**Condition**: VM is not running  
**Action**: Start VM/LXC

## üéõÔ∏è Capabilities

The app adds devices with the following capabilities:
- `onoff`: Power state (on/off)
- `measure_cpu`: CPU usage percentage
- `measure_memory`: Memory usage percentage
- `measure_disk`: Disk usage percentage
- `sensor_uptime`: Uptime in hours
- `measure_network_in`: Incoming network traffic (MB/s)
- `measure_network_out`: Outgoing network traffic (MB/s)
- `measure_disk_read`: Disk read rate (MB/s)
- `measure_disk_write`: Disk write rate (MB/s)
- `alarm_connectivity`: Connection status alarm
- `alarm_generic`: Generic error alarm
- `alarm_heat`: Overload alarm

## üîê Security Considerations

- Store your Proxmox credentials securely
- Use dedicated Proxmox user accounts with minimal required permissions
- Consider using API tokens instead of passwords
- Ensure network connectivity between Homey and Proxmox is secure
- Regularly update the app to receive security patches

## üêõ Troubleshooting

### Device Not Responding
- Check network connectivity between Homey and Proxmox server
- Verify Proxmox server is accessible
- Confirm credentials are correct
- Check firewall settings

### High CPU Usage on Homey
- Increase polling interval in device settings
- Reduce number of monitored devices
- Disable insights if not needed

### Missing Devices
- Ensure VMs/LXCs are visible in Proxmox web interface
- Check user permissions in Proxmox
- Try repairing the device in Homey app

## ü§ù Contributing

Contributions are welcome! Here's how you can help:
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## üìù Development

### Prerequisites
- Node.js (compatible with Homey SDK v3)
- Homey CLI tools

### Building
```bash
npm install
npm run lint
```

### Linting
```bash
npm run lint
```

## üìÑ License

Please refer to the LICENSE file in the repository for licensing information.

## üôè Acknowledgments

- Built using the Homey Apps SDK v3
- Uses the `proxmox-api` npm package for Proxmox integration
- Developed by Magnus Ingwersen

## üìû Support

For issues, questions, or feature requests, please use the GitHub issue tracker.

---

## ü§ñ AI Generation Notice

**This entire codebase was written entirely by Artificial Intelligence as part of an automated development process. While efforts have been made to ensure accuracy, please:**
- Verify all technical details against official documentation
- Test all features before relying on them
- Report any inaccuracies or issues
- Consult official Proxmox and Homey documentation for authoritative information

**Last Updated**: 2026-01-02  
**App Version**: 1.0.0
